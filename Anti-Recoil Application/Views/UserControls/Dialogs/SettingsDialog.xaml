<UserControl x:Class="Anti_Recoil_Application.UserControls.Dialogs.SettingsDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Anti_Recoil_Application.UserControls.Dialogs"
             xmlns:helpers="clr-namespace:Anti_Recoil_Application.Helpers"
             mc:Ignorable="d">

    <Border CornerRadius="10"
            BorderBrush="{StaticResource BrushTertiary}"
            BorderThickness="1.5"
            Background="{StaticResource BrushPrimary}"
            Width="Auto"
            MinWidth="600"
            Height="400">

        <Grid Margin="10">
            <StackPanel>
                <!-- Header -->
                <TextBlock x:Name="HeaderText"
                           Margin="26 12"
                           HorizontalAlignment="Left"
                           Text="Main Settings"
                           FontWeight="Bold"
                           Style="{StaticResource HeadingStyle}" />
                <Line Stroke="{StaticResource BrushTertiary}"
                      StrokeThickness="2"
                      X1="0"
                      X2="544"
                      Margin="18 0 0 12" />

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center">
                    <TextBlock Margin="12"
                               HorizontalAlignment="Right"
                               Text="Game Sensitivity"
                               FontWeight="Bold"
                               Width="180"
                               Style="{StaticResource LabelStyle}" />

                    <StackPanel Orientation="Horizontal">
                        <Slider Style="{StaticResource ThemedSliderStyle}"
                                Minimum="50"
                                Maximum="140"
                                Value="{Binding MainGameSensitivity, Mode=TwoWay}"
                                Width="300"
                                PreviewMouseLeftButtonDown="Slider_PreviewMouseLeftButtonDown" />
                        <Border Margin="12"
                                BorderBrush="Transparent"
                                Background="{StaticResource BrushTertiary}"
                                BorderThickness="1"
                                CornerRadius="4"
                                Width="29"
                                Height="20">
                            
                 <TextBlock HorizontalAlignment="Center"
                            FontWeight="Bold"
                            Foreground="{StaticResource BrushSecondary}"
                            Style="{StaticResource LabelStyle}"
                                       Text="{Binding MainGameSensitivity, StringFormat={}{0:F0}}" />
                        </Border>

                    </StackPanel>
                </StackPanel>

                <TextBlock Margin="26 12"
                           HorizontalAlignment="Left"
                           Text="Weapons Sensitivity"
                           Style="{StaticResource SubHeadingStyle}" />
                <!-- ListView of Weapons -->
                <ScrollViewer HorizontalAlignment="Center" VerticalAlignment="Stretch"
                              ScrollViewer.VerticalScrollBarVisibility="Hidden"
                              ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                              PreviewMouseWheel="ListView_PreviewMouseWheel"
                              ScrollViewer.CanContentScroll="True"
                              Margin="12"
                              Height="256">
                    <ListView Name="WeaponsListView"
                              Background="Transparent"
                              BorderBrush="Transparent"
                              ItemsSource="{Binding Weapons}"
                              SelectionMode="Single"
                              HorizontalAlignment="Stretch"
                              Padding="0 0 0 50"
                              ScrollViewer.CanContentScroll="False">
                        <ListView.Resources>
                            <Style TargetType="ListViewItem">
                                <Setter Property="Background"
                                        Value="Transparent" />
                                <Setter Property="Foreground"
                                        Value="Transparent" />
                                <Setter Property="BorderBrush"
                                        Value="#121213" />
                                <Setter Property="BorderThickness"
                                        Value="0" />
                                <Setter Property="FocusVisualStyle"
                                        Value="{x:Null}" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListViewItem">
                                            <Border>
                                                <Grid Background="{TemplateBinding Background}">
                                                    <ContentPresenter VerticalAlignment="Center"
                                                                      HorizontalAlignment="Left" />
                                                </Grid>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListView.Resources>

                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal"
                                            HorizontalAlignment="Center">
                                    <TextBlock Margin="12"
                                               HorizontalAlignment="Right"
                                               Text="{Binding WeaponName}"
                                               Width="180"
                                               Style="{StaticResource LabelStyle}" />

                                    <StackPanel Orientation="Horizontal">
                                        <Slider Name="WeaponSlider"
                                                Style="{StaticResource ThemedSliderStyle}"
                                                Minimum="50"
                                                Maximum="140"
                                                Value="{Binding Sensitivity, Mode=TwoWay}"
                                                Width="300"
                                                PreviewMouseLeftButtonDown="Slider_PreviewMouseLeftButtonDown" />

                                        <Border Margin="12"
                                                BorderBrush="Transparent"
                                                Background="{StaticResource BrushTertiary}"
                                                BorderThickness="1"
                                                CornerRadius="4"
                                                Width="29"
                                                Height="20">
                                            <TextBlock HorizontalAlignment="Center"
                                                       FontWeight="Bold"
                                                       Foreground="{StaticResource BrushSecondary}"
                                                       Style="{StaticResource LabelStyle}"
                                                       Text="{Binding Sensitivity, StringFormat={}{0:F0}}" />
                                        </Border>
                                    </StackPanel>
                                </StackPanel>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                </ScrollViewer>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
